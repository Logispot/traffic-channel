function categorizeTrafficChannel(){const e=new URLSearchParams(getAllQueryParams()),c=document.referrer||"(direct)",a=e.get("utm_source")||"(direct)",o=e.get("utm_medium"),n=e.get("utm_campaign")||"(not set)";if(o){const e=o.toLowerCase();return["cpc","ppc","display","brand_search"].includes(e)?{channel:"Paid Search",source:a,medium:e,campaign:n}:"email"===e?{channel:"Email",source:a,medium:e,campaign:n}:["social","social-media"].includes(e)?{channel:"Organic Social",source:a,medium:e,campaign:n}:{channel:"Other",source:a,medium:e,campaign:n}}if("(direct)"!==c){let a;try{a=new URL(c).hostname}catch{a="(invalid-referrer)"}if(["gclid","adgroupid","msclkid","fbclid","ttclid","n_campaign_type","n_media","n_ad_group","DMC_channel","DMC_campaign","DMC_keyword","DMC_medium","DMC_source"].some((c=>e.has(c))))return{channel:"Paid Search",source:a,medium:"cpc",campaign:"(not set)"};if(["google.com","google","kakao","bing.com","bing","yahoo.com","duckduckgo.com","baidu.com","naver.com","naver","m.search.naver.com","daum.net","daum","m.search.daum.net"].some((e=>a.toLowerCase().includes(e))))return{channel:"Organic Search",source:a,medium:"organic",campaign:"(not set)"};return["facebook.com","twitter.com","linkedin.com","instagram.com","pinterest.com","reddit.com","tiktok.com"].some((e=>a.includes(e)))?{channel:"Organic Social",source:a,medium:"social",campaign:"(not set)"}:{channel:"Referral",source:a,medium:"referral",campaign:"(not set)"}}return{channel:"Direct",source:"(direct)",medium:"(none)",campaign:"(not set)"}}function setCookie(e,c,a){const o=new Date(Date.now()+24*a*60*60*1e3).toUTCString();document.cookie=`${e}=${encodeURIComponent(c)}; expires=${o}; path=/`}function saveTrafficDetailsToCookie(e={}){const c=30,a=getCookie("l_traffic_channel"),o=getCookie("l_traffic_source"),n=getCookie("l_traffic_medium"),i=getCookie("l_traffic_campaign");if(!(a||o||n||i)){const{channel:e,source:a,medium:o,campaign:n}=categorizeTrafficChannel();setCookie("l_traffic_channel",e,c),setCookie("l_traffic_source",a,c),setCookie("l_traffic_medium",o,c),setCookie("l_traffic_campaign",n,c)}}function getCookie(e){const c=`; ${document.cookie}`.split(`; ${e}=`);return 2===c.length?decodeURIComponent(c.pop().split(";").shift()):null}function getAllQueryParams(){const e={};if(window.location.search){new URLSearchParams(window.location.search).forEach(((c,a)=>{e[a]=c}))}if(window.location.hash.includes("?")){const c=window.location.hash.split("?")[1];new URLSearchParams(c).forEach(((c,a)=>{e[a]=c}))}return e}